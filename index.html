<!DOCTYPE html>
<html>
<head>
  <title>README.md</title>
  <link rel="stylesheet" href="https://cdn.simplecss.org/simple-v1.css">
</head>
<body>
<div class="markdown-heading"><h1 class="heading-element">synvert-ruby</h1><a id="user-content-synvert-ruby" class="anchor" aria-label="Permalink: synvert-ruby" href="#synvert-ruby"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<p><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/8f24312142ebef0c4be795322909dc0debe15b4954e94937e94c5c92d4f6e3da/68747470733a2f2f73796e766572742e6e65742f696d672f6c6f676f5f39362e706e67"><img src="https://camo.githubusercontent.com/8f24312142ebef0c4be795322909dc0debe15b4954e94937e94c5c92d4f6e3da/68747470733a2f2f73796e766572742e6e65742f696d672f6c6f676f5f39362e706e67" alt="logo" width="32" height="32" data-canonical-src="https://synvert.net/img/logo_96.png" style="max-width: 100%;"></a></p>
<p><a href="https://awesomecode.io/repos/xinminlabs/synvert-ruby" rel="nofollow"><img src="https://camo.githubusercontent.com/f0fd53223412c221565a61ca89abdb3b29b82066a4ed4cf4ac97a8aea341d2d0/68747470733a2f2f617765736f6d65636f64652e696f2f70726f6a656374732f34376364393830352d313731632d346336312d623932372d6261613436636434303230612f737461747573" alt="AwesomeCode Status for xinminlabs/synvert-ruby" data-canonical-src="https://awesomecode.io/projects/47cd9805-171c-4c61-b927-baa46cd4020a/status" style="max-width: 100%;"></a>
<a target="_blank" rel="noopener noreferrer" href="https://github.com/xinminlabs/synvert-ruby/actions/workflows/main.yml/badge.svg"><img src="https://github.com/xinminlabs/synvert-ruby/actions/workflows/main.yml/badge.svg" alt="Main workflow" style="max-width: 100%;"></a>
<a href="http://badge.fury.io/rb/synvert" rel="nofollow"><img src="https://camo.githubusercontent.com/4b967e7afb1fc60cfeb1eef37051e0368c31a3f3b56043b87ae15c086357eddf/68747470733a2f2f62616467652e667572792e696f2f72622f73796e766572742e737667" alt="Gem Version" data-canonical-src="https://badge.fury.io/rb/synvert.svg" style="max-width: 100%;"></a></p>
<p><code>synvert-ruby</code> is a command tool to rewrite ruby code automatically, it depends on <code>synvert-core-ruby</code> and <code>synvert-snippets-ruby</code>.</p>
<p><a href="https://github.com/xinminlabs/synvert-core-ruby">synvert-core-ruby</a> provides a set of DSLs to rewrite ruby code.</p>
<p><a href="https://github.com/xinminlabs/synvert-snippets-ruby">synvert-snippets-ruby</a> provides official snippets to rewrite ruby code.</p>
<div class="markdown-heading"><h2 class="heading-element">Installation</h2><a id="user-content-installation" class="anchor" aria-label="Permalink: Installation" href="#installation"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<p>To install the latest version, run</p>
<pre><code>$ gem install synvert
</code></pre>
<p>This will also install <code>synvert-core-ruby</code>.</p>
<p>Synvert is completely working with remote snippets on github,
but you can sync all official snippets locally to make it run faster.</p>
<pre><code>$ synvert-ruby --sync
</code></pre>
<p>Then you can use synvert to rewrite your ruby code, e.g.</p>
<pre><code>$ synvert-ruby -r factory_bot/use_short_syntax
</code></pre>
<div class="markdown-heading"><h2 class="heading-element">Usage</h2><a id="user-content-usage" class="anchor" aria-label="Permalink: Usage" href="#usage"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<pre><code>$ synvert-ruby -h
Usage: synvert-ruby [project_path]
    -l, --list                       list all available snippets
    -q, --query QUERY                query specified snippets
    -s, --show SNIPPET_NAME          show specified snippet description, SNIPPET_NAME is combined by group and name, e.g. ruby/new_hash_syntax
    -o, --open SNIPPET_NAME          Open a snippet
    -g, --generate NEW_SNIPPET_NAME  generate a new snippet
        --sync                       sync snippets
        --execute EXECUTE_COMMAND    execute snippet
    -r, --run SNIPPET_NAME           run a snippet with snippet name, e.g. ruby/new_hash_syntax, or remote url, or local file path
    -t, --test SNIPPET_NAME          test a snippet with snippet name, e.g. ruby/new_hash_syntax, or remote url, or local file path
        --show-run-process           show processing files when running a snippet
        --only-paths DIRECTORIES     only specified files or directories, separated by comma, e.g. app/models,app/controllers
        --skip-paths FILE_PATTERNS   skip specified files or directories, separated by comma, e.g. vendor/,lib/**/*.rb
    -f, --format FORMAT              output format
        --number-of-workers NUMBER_OF_WORKERS
                                     set the number of workers, if it is greater than 1, it tests snippet in parallel
        --double-quote               prefer double quote, it uses single quote by default
        --tab-width TAB_WIDTH        prefer tab width, it uses 2 by default
    -v, --version                    show this version
</code></pre>
<div class="markdown-heading"><h3 class="heading-element">Sync snippets</h3><a id="user-content-sync-snippets" class="anchor" aria-label="Permalink: Sync snippets" href="#sync-snippets"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<p><a href="https://github.com/xinminlabs/synvert-snippets-ruby">Official Snippets</a> are available on github,
you can sync them any time you want.</p>
<pre><code>$ synvert-ruby --sync
</code></pre>
<div class="markdown-heading"><h3 class="heading-element">List snippets</h3><a id="user-content-list-snippets" class="anchor" aria-label="Permalink: List snippets" href="#list-snippets"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<p>List all available snippets</p>
<pre><code>$ synvert-ruby -l

$ synvert-ruby --list --format json
</code></pre>
<div class="markdown-heading"><h3 class="heading-element">Show a snippet</h3><a id="user-content-show-a-snippet" class="anchor" aria-label="Permalink: Show a snippet" href="#show-a-snippet"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<p>Describe what a snippet does.</p>
<pre><code>$ synvert-ruby -s factory_bot/use_short_syntax
</code></pre>
<div class="markdown-heading"><h3 class="heading-element">Open a snippet</h3><a id="user-content-open-a-snippet" class="anchor" aria-label="Permalink: Open a snippet" href="#open-a-snippet"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<p>Open a snippet in your editor, editor is defined in
<code>ENV['SNIPPET_EDITOR']</code> or <code>ENV['EDITOR']</code></p>
<pre><code>$ synvert-ruby -o factory_bot/use_short_syntax
</code></pre>
<div class="markdown-heading"><h3 class="heading-element">Run a snippet</h3><a id="user-content-run-a-snippet" class="anchor" aria-label="Permalink: Run a snippet" href="#run-a-snippet"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<p>Run a snippet, analyze and then rewrite code.</p>
<pre><code>$ synvert-ruby -r factory_bot/use_short_syntax ~/Sites/xinminlabs/synvert-core-ruby
</code></pre>
<p>Run a snippet from remote url</p>
<pre><code>$ synvert-ruby -r https://raw.githubusercontent.com/xinminlabs/synvert-snippets-ruby/master/lib/factory_bot/use_short_syntax.rb ~/sites/xinminlabs/synvert-core-ruby
</code></pre>
<p>Run a snippet from local path</p>
<pre><code>$ synvert-ruby -r ~/.synvert-ruby/lib/factory_bot/use_short_syntax.rb ~/sites/xinminlabs/synvert-core-ruby
</code></pre>
<p>Skip paths</p>
<pre><code>$ synvert-ruby -r factory_bot/use_short_syntax --skip-paths vendor/ ~/sites/xinminlabs/synvert-core-ruby
</code></pre>
<p>Only paths</p>
<pre><code>$ synvert-ruby -r factory_bot/use_short_syntax --only-paths app/models/ ~/sites/xinminlabs/synvert-core-ruby
</code></pre>
<p>Show processing files when running a snippet.</p>
<pre><code>$ synvert-ruby -r factory_bot/use_short_syntax --show-run-process ~/Sites/xinminlabs/synvert-core-ruby
</code></pre>
<div class="markdown-heading"><h3 class="heading-element">Generate a snippet</h3><a id="user-content-generate-a-snippet" class="anchor" aria-label="Permalink: Generate a snippet" href="#generate-a-snippet"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<p>Generate a new snippet</p>
<pre><code>$ synvert-ruby -g ruby/convert_foo_to_bar
</code></pre>

</body>
</html>
